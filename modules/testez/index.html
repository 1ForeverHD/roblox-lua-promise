<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Roblox Lua Promise</title>
    <meta name="description" content="Promise implementation for Roblox">
    
    
    <link rel="preload" href="/roblox-lua-promise/assets/css/0.styles.6b3a7295.css" as="style"><link rel="preload" href="/roblox-lua-promise/assets/js/app.afec42da.js" as="script"><link rel="preload" href="/roblox-lua-promise/assets/js/6.b80290f0.js" as="script"><link rel="preload" href="/roblox-lua-promise/assets/js/23.ab6eb850.js" as="script"><link rel="prefetch" href="/roblox-lua-promise/assets/js/1.8631d8e1.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/10.213e9bd9.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/11.1a4f3a5e.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/12.4dfd82bb.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/13.6259e41f.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/14.218af3dc.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/15.f9ea1835.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/16.424134a6.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/17.4b0e2fb8.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/18.166f79aa.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/19.15002b1e.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/2.4e77c94f.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/20.0b77f881.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/21.716b7f76.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/22.97c276da.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/24.52aaa375.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/3.33f87e92.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/5.46f1a102.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/7.fb8cf03f.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/8.4a3d48b3.js"><link rel="prefetch" href="/roblox-lua-promise/assets/js/9.46b69147.js">
    <link rel="stylesheet" href="/roblox-lua-promise/assets/css/0.styles.6b3a7295.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/roblox-lua-promise/" class="home-link router-link-active"><!----> <span class="site-name">Roblox Lua Promise</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/roblox-lua-promise/lib/" class="nav-link">API Reference</a></div><div class="nav-item"><a href="https://github.com/evaera/roblox-lua-promise" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/roblox-lua-promise/lib/" class="nav-link">API Reference</a></div><div class="nav-item"><a href="https://github.com/evaera/roblox-lua-promise" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/roblox-lua-promise/lib/" class="sidebar-link">Promise</a></li><li><a href="/roblox-lua-promise/lib/Usage.html" class="sidebar-link">Usage Guide</a></li><li><a href="/roblox-lua-promise/lib/Examples.html" class="sidebar-link">Examples</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 align="center">TestEZ</h1> <div align="center"><a href="https://travis-ci.org/Roblox/testez"><img src="https://api.travis-ci.org/Roblox/testez.svg?branch=master" alt="Travis-CI Build Status"></a></div> <div align="center">
	BDD-style Roblox Lua testing framework
</div> <div>Â </div> <p>TestEZ can run within Roblox itself, as well as inside <a href="https://github.com/LPGhatguy/Lemur" target="_blank" rel="noopener noreferrer">Lemur<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for testing on CI systems. We use it at Roblox for testing lots of Lua code, as well as libraries like <a href="https://github.com/Roblox/Rodux" target="_blank" rel="noopener noreferrer">Rodux<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>It provides an API that can run all of your tests with a single method call as well as a more granular API that exposes each step of the pipeline.</p> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <h3 id="method-1-installation-script-roblox-studio"><a href="#method-1-installation-script-roblox-studio" aria-hidden="true" class="header-anchor">#</a> Method 1: Installation Script (Roblox Studio)</h3> <ul><li>Download the latest release from the <a href="https://github.com/Roblox/TestEZ/releases" target="_blank" rel="noopener noreferrer">GitHub releases page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>Use the 'Run Script' menu (located in the Test tab) to locate and run this script.</li> <li>Follow the instructions in the installer</li></ul> <p>This installation script is generated by a tool called <a href="https://github.com/LPGhatguy/rbxpacker" target="_blank" rel="noopener noreferrer">rbxpacker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="method-2-filesystem-roblox"><a href="#method-2-filesystem-roblox" aria-hidden="true" class="header-anchor">#</a> Method 2: Filesystem (Roblox)</h3> <ul><li>Copy the <code>lib</code> directory into your codebase</li> <li>Rename the folder to <code>TestEZ</code></li> <li>Use a plugin like <a href="https://github.com/LPGhatguy/rojo" target="_blank" rel="noopener noreferrer">Rojo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to sync the files into a place</li></ul> <h3 id="method-3-lemur-ci-systems"><a href="#method-3-lemur-ci-systems" aria-hidden="true" class="header-anchor">#</a> Method 3: Lemur (CI Systems)</h3> <p>You can use <a href="https://github.com/LPGhatguy/Lemur" target="_blank" rel="noopener noreferrer">Lemur<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> paired together with a regular Lua 5.1 interpreter to run tests written with TestEZ.</p> <p>This is the best approach when testing Roblox Lua libraries using existing continuous integration systems like Travis-CI. We use this technique to run tests for <a href="https://github.com/Roblox/Rodux" target="_blank" rel="noopener noreferrer">Rodux<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and other libraries.</p> <h2 id="creating-a-test-script"><a href="#creating-a-test-script" aria-hidden="true" class="header-anchor">#</a> Creating a Test Script</h2> <p>TestEZ provides two levels of granularity for creating a test script.</p> <p>The easiest (and recommended) approach is to load the <code>TestBootstrap</code> module and <code>Reporters.TextReporter</code>. To run all the tests contained in the object <code>MY_TESTS</code>, it's just:</p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> TestBootstrap <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>TestEZ<span class="token punctuation">.</span>TestBootstrap<span class="token punctuation">)</span>
<span class="token keyword">local</span> TextReporter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>TestEZ<span class="token punctuation">.</span>Reporters<span class="token punctuation">.</span>TextReporter<span class="token punctuation">)</span>

TestBootstrap<span class="token punctuation">:</span><span class="token function">run</span><span class="token punctuation">(</span>MY_TESTS<span class="token punctuation">,</span> TextReporter<span class="token punctuation">)</span>
</code></pre></div><p>The method also returns information about the test run that can be used to take further action.</p> <p>Alternatively, you can use the other APIs directly. See <a href="lib/TestBootstrap.lua">the source of <code>TestBootstrap</code></a> as well as <a href="/roblox-lua-promise/modules/testez/DESIGN.html">DESIGN.md</a> for details on how to accomplish that.</p> <h2 id="writing-tests"><a href="#writing-tests" aria-hidden="true" class="header-anchor">#</a> Writing Tests</h2> <p>Create <code>.spec.lua</code> files (or Roblox objects with the <code>.spec</code> suffix) for each module you want to test. These modules should return a function that in turn calls functions from TestEZ.</p> <p>A simple module and associated TestEZ spec might look like:</p> <p><code>Greeter.lua</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> Greeter <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> Greeter<span class="token punctuation">:</span><span class="token function">greet</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">..</span> person
<span class="token keyword">end</span>

<span class="token keyword">return</span> Greeter
</code></pre></div><p><code>Greeter.spec.lua</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">local</span> Greeter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>script<span class="token punctuation">.</span>Parent<span class="token punctuation">.</span>Greeter<span class="token punctuation">)</span>

	<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;greet&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should include the customary English greeting&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token keyword">local</span> greeting <span class="token operator">=</span> Greeter<span class="token punctuation">:</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;X&quot;</span><span class="token punctuation">)</span>
			<span class="token function">expect</span><span class="token punctuation">(</span>greeting<span class="token punctuation">:</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">end</span><span class="token punctuation">)</span>

		<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should include the person being greeted&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token keyword">local</span> greeting <span class="token operator">=</span> Greeter<span class="token punctuation">:</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;Joe&quot;</span><span class="token punctuation">)</span>
			<span class="token function">expect</span><span class="token punctuation">(</span>greeting<span class="token punctuation">:</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">&quot;Joe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>The functions <code>describe</code>, <code>it</code>, and <code>expect</code> are injected by TestEZ and automatically hook into the current testing context.</p> <p>Every module is implicitly scoped according to its path, meaning the tree that the above test represents might be:</p> <div class="language- extra-class"><pre class="language-text"><code>LuaChat
	Greeter
		greet
			[+] should include the customary English greeting
			[+] should include the person being greeted
</code></pre></div><h2 id="debugging-tests"><a href="#debugging-tests" aria-hidden="true" class="header-anchor">#</a> Debugging Tests</h2> <p>Often during development, you'll want to only run the test that's concerned with the specific code you're working on.</p> <p>TestEZ provides the <code>SKIP()</code> and <code>FOCUS()</code> functions to either skip or focus the block that the call is contained in.</p> <p>This mechanism does not work for <code>it</code> blocks, where you can instead use <code>itSKIP</code> and <code>itFOCUS</code>. This is because the code inside <code>it</code> blocks is not run until the test is executed.</p> <p>For example, I might want to run the tests targeting a specific method for my <code>DateTime</code> module:</p> <p><code>DateTime.spec.lua</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;ImportantFeature&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">FOCUS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

		<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;does really important things&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token comment">-- This callback *will* run!</span>
		<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>

	<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Format&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;formats things&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token comment">-- This callback will never run!</span>
		<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p><em><strong><code>FOCUS</code> and <code>SKIP</code> are intended exclusively for development; future versions of TeztEZ will be able to detect this when running in a CI system and fail tests!</strong></em></p> <h2 id="testez-test-api"><a href="#testez-test-api" aria-hidden="true" class="header-anchor">#</a> TestEZ Test API</h2> <h3 id="describe-phrase-callback"><a href="#describe-phrase-callback" aria-hidden="true" class="header-anchor">#</a> <code>describe(phrase, callback)</code></h3> <p>This function creates a new <code>describe</code> block. These blocks correspond to the <strong>things</strong> that are being tested.</p> <p>Put <code>it</code> blocks inside of <code>describe</code> blocks to describe what behavior should be correct.</p> <p>For example:</p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;This cheese&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should be moldy&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">expect</span><span class="token punctuation">(</span>cheese<span class="token punctuation">.</span>moldy<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="it-phrase-callback"><a href="#it-phrase-callback" aria-hidden="true" class="header-anchor">#</a> <code>it(phrase, callback)</code></h3> <p>This function creates a new 'it' block. These blocks correspond to the <strong>behaviors</strong> that should be expected of the thing you're testing.</p> <p>For example:</p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should add 1 and 1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="focus"><a href="#focus" aria-hidden="true" class="header-anchor">#</a> <code>FOCUS()</code></h3> <p>When called inside a <code>describe</code> block, <code>FOCUS()</code> marks that block as <em>focused</em>. If there are any focused blocks inside your test tree, <em>only</em> focused blocks will be executed, and all other tests will be skipped.</p> <p>When you're writing a new set of tests as part of a larger codebase, use <code>FOCUS()</code> while debugging them to reduce the amount of noise you need to scroll through.</p> <p>For example:</p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Secret Feature X&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">FOCUS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should do something&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Secret Feature Y&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should do nothing&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">-- This code will not run!</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Note: <code>FOCUS</code> will not work inside an <code>it</code> block. The bodies of these blocks aren't executed until the tests run, which is too late to change the test plan.</strong></p> <h3 id="skip"><a href="#skip" aria-hidden="true" class="header-anchor">#</a> <code>SKIP()</code></h3> <p>This function works similarly to <code>FOCUS()</code>, except instead of marking a block as <em>focused</em>, it will mark a block as <em>skipped</em>, which stops any of the test assertions in the block from being executed.</p> <p><strong>Note: <code>SKIP</code> will not work inside an <code>it</code> block. The bodies of these blocks aren't executed until the tests run, which is too late to change the test plan.</strong></p> <h3 id="expect-value"><a href="#expect-value" aria-hidden="true" class="header-anchor">#</a> <code>expect(value)</code></h3> <p>Creates a new <code>Expectation</code>, used for testing the properties of the given value.</p> <p>Expectations are intended to be read like English assertions. These are all true:</p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Equality</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>never<span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">-- Nil checking</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span><span class="token punctuation">.</span>never<span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- Type checking</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">newproxy</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&quot;userdata&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- Function throwing</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;nope&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">-- I don't throw!</span>
<span class="token keyword">end</span><span class="token punctuation">)</span><span class="token punctuation">.</span>never<span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="inspiration-and-prior-work"><a href="#inspiration-and-prior-work" aria-hidden="true" class="header-anchor">#</a> Inspiration and Prior Work</h2> <p>The <code>describe</code> and <code>it</code> syntax in TestEZ is based on the <a href="https://en.wikipedia.org/wiki/Behavior-driven_development" target="_blank" rel="noopener noreferrer">Behavior-Driven Development<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> methodology, notably as implemented in RSpec (Ruby), busted (Lua), Mocha (JavaScript), and Ginkgo (Go).</p> <p>The <code>expect</code> syntax is based on Chai, a JavaScript assertion library commonly used with Mocha. Similar expectation systems are also used in RSpec and Ginkgo, with slightly different syntax.</p> <h2 id="contributing"><a href="#contributing" aria-hidden="true" class="header-anchor">#</a> Contributing</h2> <p>Contributions are welcome! See <a href="/roblox-lua-promise/modules/testez/CONTRIBUTING.html">CONTRIBUTING.md</a> for information.</p> <h2 id="license"><a href="#license" aria-hidden="true" class="header-anchor">#</a> License</h2> <p>TestEZ is available under the Apache 2.0 license. See <a href="LICENSE">LICENSE</a> for details.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/roblox-lua-promise/assets/js/app.afec42da.js" defer></script><script src="/roblox-lua-promise/assets/js/6.b80290f0.js" defer></script><script src="/roblox-lua-promise/assets/js/23.ab6eb850.js" defer></script>
  </body>
</html>
